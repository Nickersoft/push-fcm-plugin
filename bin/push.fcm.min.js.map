{"version":3,"sources":["push.fcm.js"],"names":["ERR_NO_LOCAL_STORAGE","ERR_NO_FIREBASE","ERR_NO_PUSH","ERR_SW_FAILED","ERR_SW_NOT_SUPPORTED","SENT_TO_SERVER_KEY","INITIALIZED_KEY","getRoot","self","global","factory","root","define","amd","firebase","module","exports","require","Push","console","error","extend","configuration","FCM","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","serviceWorkerLocation","onTokenFetched","token","onTokenFetchedError","onPermissionRequired","onPermissionGranted","onPermissionDenied","onMessage","payload","sendTokenToServer","onTokenDeleted","onTokenDeletedError","FCMPlugin","config","this","initialized","_messaging","isInitialized","apps","length","setTokenSentToServer","sent","hasOwnProperty","localStorage","setItem","isTokenSentToServer","getItem","fetchToken","getToken","then","requestPermission","catch","deleteToken","Promise","fulfill","reject","currentToken","initialize","functions","localConfig","initConfig","swLocation","initializeApp","info","messaging","navigator","serviceWorker","register","scope","ready","registration","messageChannel","MessageChannel","port1","onmessage","useServiceWorker","onTokenRefresh","debug","active","postMessage","port2","Error","failed","k","plugin"],"mappings":"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","file":"bin/push.fcm.min.js.map"}